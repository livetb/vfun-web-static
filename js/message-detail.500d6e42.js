(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["message-detail"],{"0c05":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chat-record-root"},[r("div",{ref:"records-root",staticClass:"main"},[r("van-pull-refresh",{staticClass:"pull-wrap",on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[r("div",t._l(t.msgList,(function(e,i){return r("div",{key:i,staticClass:"record-card",class:{self:e.fromUid+""!==t.touid+""}},[r("van-image",{attrs:{width:"34",height:"34",round:"",src:e.fromUid+""!==t.touid+""?t.profile.avatar:""}}),r("div",{staticClass:"content"},[r("div",{staticClass:"name-wrap"},[r("div",{staticClass:"date"},[t._v(t._s(e.createdTime))])]),r("div",{staticClass:"info"},[t._v(t._s(e.message))])])],1)})),0)])],1),r("div",{staticClass:"footer"},[r("message-input",{on:{send:t.sendmessage}})],1)])},n=[],a=(r("a4d3"),r("4de4"),r("4160"),r("26e9"),r("1d1c"),r("7a82"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("96cf"),r("89ba")),s=r("2fa7"),o=r("af82"),c=r("8ced"),l=r("5880");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={data:function(){return{touid:this.$route.params.touid,page:1,msgList:[],refreshing:!1}},computed:h({},Object(l["mapState"])(["profile"])),components:{MessageInput:c["a"]},methods:{toBottom:function(){var t=this;this.$nextTick((function(){var e=t.$refs["records-root"];t.$refs["records-root"].scrollTop=e.scrollHeight}))},onRefresh:function(){this.page=1,this.loadData()},loadData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["g"](this.page,this.touid);case 2:e=t.sent,r=e.status,i=e.data,this.refreshing=!1,0===r&&(console.log(i),this.msgList=i?i.reverse():[]);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sendmessage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,o["i"](e,this.touid);case 3:if(r=t.sent,i=r.status,0!==i){t.next=9;break}return t.next=8,this.loadData();case 8:this.toBottom();case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadData();case 2:this.toBottom();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},d=f,b=(r("b184"),r("2877")),p=Object(b["a"])(d,i,n,!1,null,null,null);e["default"]=p.exports},"23f4":function(t,e,r){},"26e9":function(t,e,r){"use strict";var i=r("23e7"),n=r("e8b5"),a=[].reverse,s=[1,2];i({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),a.call(this)}})},"2d80":function(t,e,r){},4614:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAuCAYAAABeUotNAAAEpklEQVRYR82YW6iUVRTH//893SjLtKjoZkpBN0orCorCCygqmVaShWSnCxHdTDAiu2h2Iyk1X6KC8qWgHqxefChIqZcIsqJ6qIdK6qEI0+5Zfr9Y0z6H45yZ+b45M0fPfpmBb621f9/69rpta5Qv4DJJMzxaOYETiqJYY3uR7UdGHShwkKRlwApJY8KRtheMKlBgLrBW0mmDv7TtiaMCFDgVWCdpbpOjuDOlNG6/ggKHSVoBLJN0cIt42ZpSmrrfQIFFwBpJJ7YLaGB9rVZbus9BgXMkbchppzTp2O6z/fI+AwXGFUWxOqV0K3BAKWEWsD3F9scjDgokSTcDj0k6uipglttt+3Dbu0cUFLgY2CDpvA4B6+J1T9pT6v+HY6BMBzhO0lPA4m72qJ9Nu6/noMCBku6W9CBwRNkLlT23vdT2+p6CArMkrQNOLwPof267kPQTcEwzHdvTbG/pCSgwUdIzwPyqgFnuX9trgfgCUd8bF7bH297ZFShwqKT7gOWSDukQ8k/b12X9i1p485uo8QPe73CDujhwNfC0pJOHob/L9jxJF2QbrUy8kVJaMCxQ4CxJzwLThwEY6eYHSbMl7ZL0aa71TU3ZXml7VUegwNiiKFbZvl1S5arSQBCfcqbtr4B3gBntXtb2fNtvVgIFIs/2AU9IahqZVTxr+3NJs2x/D9wEvFimZ/sU29+WggIX5uYhfoe9bH8gaY7tHcDxQEAfWeLNnyPiB8sMqUyR04qieNL2EklRp7tZb9fHCPv3HISbKqaxLSmlaU1Bc0dzB7BS0thu6Op5z35d0uJoKDLkQuC1KnZtr7N9zxDQfLDX56iuYqutDPB8Sum2XHkinY0HvpB0bBXjtm+wvXEvUOABYHUVA1VkIvBqtdr9g2X37Nmz0fb1VfTz15hs+5NmHj1f0o1AVIu2B73NZlHyltuOQjCwcg+wOWeQUlbbf0uKHvSflsEERCm8KqAlTc1Nb6lxSVG3b4m2rAFyDPCZpAlVjGRvbrM9pH9t2Y8Ck4qi6EspLQFOarPRX/k2YyA598sCUcXurAqZQV+yHY7aa5U2ztmrMyNRS4oaPbjT+cX2Ff2tWIM3o7t/r9MUN7gHbfnpy94ciJlncUDbjko12/ZHjXpAzOjbgDPKbA7xnD3V9taOPdpqIyAO/K/NngOP5rujTjkjIMfZjqals0/f8U5wLvChpBhLOlq2v7Y9qZlS6RntaKf/e9VXgGs71cvym1JKV+4r0OgPrpEUheTMToBtPxx3oSMCCkQXHoH1Qn/JjI1ytliYgc+uApwzyFsjBRq3IAG5TdJdtt9vSFNxvKKIxAgd904tl+0JtrePKGg2HlH7qqR7o0luAhzeD+DJTdLSDttHtXqLroMJqHu0YYPfbD8eY3Su3QOPc82fBzzUcNXzbkqp5Sw2UqABtt32Jba/a+Ul4PIMHBPp2lqtFhe6TddIgf5o+1LbX1YJImCOpD+aleJ+/Z6D5puN6Tm4qnBWkuk1aHglps29Ir8SSYlQL0Hj0jVm8c29ABuSFbo1mqP+ubhLsl1peBvOnr3waPSpyXZjihoOT+ti0K21du1et7YH6/8HXrgwslTFaH0AAAAASUVORK5CYII="},"48f4":function(t,e,r){"use strict";function i(t,e){var r=e.to,i=e.url,n=e.replace;if(r&&t){var a=t[n?"replace":"push"](r);a&&a.catch&&a.catch((function(t){if(t&&"NavigationDuplicated"!==t.name)throw t}))}else i&&(n?location.replace(i):location.href=i)}function n(t){i(t.parent&&t.parent.$router,t.props)}r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return a}));var a={url:String,replace:Boolean,to:[String,Object]}},"565f":function(t,e,r){"use strict";var i=r("2638"),n=r.n(i),a=r("c31d"),s=r("ad06"),o=r("7744"),c=r("dfaf"),l=r("1325"),u=r("a142");function h(){return!u["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var f=r("a8c1"),d=h();function b(){d&&Object(f["e"])(Object(f["b"])())}var p=r("d282"),g=r("ea8e"),v=Object(p["a"])("field"),m=v[0],O=v[1];e["a"]=m({inheritAttrs:!1,props:Object(a["a"])({},c["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(u["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(a["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(g["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,r=e.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(u["b"])(i)&&r.length>i&&(r=r.slice(0,i),t.value=r),r}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),b()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(l["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,r=-1===String(this.value).indexOf("."),i=e>=48&&e<=57||46===e&&r||45===e;i||Object(l["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(u["c"])(this.autosize)){var r=this.autosize,i=r.maxHeight,n=r.minHeight;i&&(e=Math.min(e,i)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:O("control",this.inputAlign)},[e]);var r={ref:"input",class:O("control",this.inputAlign),domProps:{value:this.value},attrs:Object(a["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",n()([{},r])):t("input",n()([{attrs:{type:this.type}},r]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:O("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(s["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,r=e("right-icon")||this.rightIcon;if(r)return t("div",{class:O("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(s["a"],{attrs:{name:this.rightIcon}})])},renderWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:O("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],r=this.slots,i=this.labelAlign,n={icon:this.renderLeftIcon};return r("label")&&(n.title=function(){return r("label")}),e(o["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[O("label",i),this.labelClass],arrowDirection:this.arrowDirection},class:O((t={error:this.error},t["label-"+i]=i,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:n,on:{click:this.onClick}},[e("div",{class:O("body")},[this.renderInput(),this.showClear&&e(s["a"],{attrs:{name:"clear"},class:O("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),r("button")&&e("div",{class:O("button")},[r("button")])]),this.renderWordLimit(),this.errorMessage&&e("div",{class:O("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},7744:function(t,e,r){"use strict";var i=r("c31d"),n=r("2638"),a=r.n(n),s=r("d282"),o=r("a142"),c=r("dfaf"),l=r("ba31"),u=r("48f4"),h=r("ad06"),f=Object(s["a"])("cell"),d=f[0],b=f[1];function p(t,e,r,i){var n=e.icon,s=e.size,c=e.title,f=e.label,d=e.value,p=e.isLink,g=e.arrowDirection,v=r.title||Object(o["b"])(c),m=r.default||Object(o["b"])(d),O=r.label||Object(o["b"])(f),y=O&&t("div",{class:[b("label"),e.labelClass]},[r.label?r.label():f]),j=v&&t("div",{class:[b("title"),e.titleClass],style:e.titleStyle},[r.title?r.title():t("span",[c]),y]),S=m&&t("div",{class:[b("value",{alone:!r.title&&!c}),e.valueClass]},[r.default?r.default():t("span",[d])]),k=r.icon?r.icon():n&&t(h["a"],{class:b("left-icon"),attrs:{name:n}}),w=r["right-icon"],C=w?w():p&&t(h["a"],{class:b("right-icon"),attrs:{name:g?"arrow-"+g:"arrow"}});function B(t){Object(l["a"])(i,"click",t),Object(u["a"])(i)}var A=p||e.clickable,x={clickable:A,center:e.center,required:e.required,borderless:!e.border};return s&&(x[s]=s),t("div",a()([{class:b(x),attrs:{role:A?"button":null,tabindex:A?0:null},on:{click:B}},Object(l["b"])(i)]),[k,j,S,C,r.extra&&r.extra()])}p.props=Object(i["a"])({},c["a"],{},u["c"]),e["a"]=d(p)},"7f75":function(t,e,r){},"8ced":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message-input-root border"},[i("van-field",{attrs:{placeholder:"Say something……",center:""},on:{"click-right-icon":t._send},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[i("van-image",{attrs:{slot:"left-icon",width:"34",height:"34",round:"","lazy-load":"",src:t.profile.avatar},slot:"left-icon"}),i("van-icon",{attrs:{slot:"right-icon",size:"24",name:r("4614")},slot:"right-icon"})],1)],1)},n=[],a=(r("a4d3"),r("4de4"),r("4160"),r("1d1c"),r("7a82"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),s=(r("b342"),r("ad06")),o=(r("9eda"),r("565f")),c=(r("c625"),r("b650")),l=r("8bbf"),u=r.n(l),h=r("5880");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(r,!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}u.a.use(s["a"]).use(o["a"]).use(c["a"]);var b={data:function(){return{message:""}},computed:d({},Object(h["mapState"])(["profile"])),methods:{_send:function(){this.message&&(this.$emit("send",this.message),this.message="")}}},p=b,g=(r("b673"),r("2877")),v=Object(g["a"])(p,i,n,!1,null,null,null);e["a"]=v.exports},"9eda":function(t,e,r){"use strict";r("3cd0"),r("5cc2"),r("7f75")},b184:function(t,e,r){"use strict";var i=r("23f4"),n=r.n(i);n.a},b1d2:function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return o}));var i="#fff",n="van-hairline",a=n+"--bottom",s=n+"--surround",o=n+"--top-bottom"},b650:function(t,e,r){"use strict";var i=r("c31d"),n=r("2638"),a=r.n(n),s=r("d282"),o=r("ba31"),c=r("b1d2"),l=r("48f4"),u=r("ad06"),h=r("543e"),f=Object(s["a"])("button"),d=f[0],b=f[1];function p(t,e,r,i){var n,s=e.tag,f=e.icon,d=e.type,p=e.color,g=e.plain,v=e.disabled,m=e.loading,O=e.hairline,y=e.loadingText,j={};function S(t){m||v||(Object(o["a"])(i,"click",t),Object(l["a"])(i))}function k(t){Object(o["a"])(i,"touchstart",t)}p&&(j.color=g?p:c["d"],g||(j.background=p),-1!==p.indexOf("gradient")?j.border=0:j.borderColor=p);var w=[b([d,e.size,{plain:g,disabled:v,hairline:O,block:e.block,round:e.round,square:e.square}]),(n={},n[c["b"]]=O,n)];function C(){var i,n=[];return m?n.push(t(h["a"],{class:b("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):f&&n.push(t(u["a"],{attrs:{name:f},class:b("icon")})),i=m?y:r.default?r.default():e.text,i&&n.push(t("span",{class:b("text")},[i])),n}return t(s,a()([{style:j,class:w,attrs:{type:e.nativeType,disabled:v},on:{click:S,touchstart:k}},Object(o["b"])(i)]),[C()])}p.props=Object(i["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=d(p)},b673:function(t,e,r){"use strict";var i=r("2d80"),n=r.n(i);n.a},c625:function(t,e,r){"use strict";r("3cd0"),r("5cc2")},dfaf:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var i={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}}}]);
//# sourceMappingURL=message-detail.500d6e42.js.map