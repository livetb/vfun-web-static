(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chatroom"],{1055:function(t,e,i){"use strict";var n=i("57f3"),r=i.n(n);r.a},2924:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"back-btn-wrap",on:{click:t.back}},[i("van-icon",{attrs:{name:"arrow-left",size:"12"}})],1)},r=[],s={methods:{back:function(){this.$router.back()}}},a=s,o=(i("1055"),i("2877")),c=Object(o["a"])(a,n,r,!1,null,null,null);e["a"]=c.exports},"2d80":function(t,e,i){},4614:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAuCAYAAABeUotNAAAEpklEQVRYR82YW6iUVRTH//893SjLtKjoZkpBN0orCorCCygqmVaShWSnCxHdTDAiu2h2Iyk1X6KC8qWgHqxefChIqZcIsqJ6qIdK6qEI0+5Zfr9Y0z6H45yZ+b45M0fPfpmBb621f9/69rpta5Qv4DJJMzxaOYETiqJYY3uR7UdGHShwkKRlwApJY8KRtheMKlBgLrBW0mmDv7TtiaMCFDgVWCdpbpOjuDOlNG6/ggKHSVoBLJN0cIt42ZpSmrrfQIFFwBpJJ7YLaGB9rVZbus9BgXMkbchppzTp2O6z/fI+AwXGFUWxOqV0K3BAKWEWsD3F9scjDgokSTcDj0k6uipglttt+3Dbu0cUFLgY2CDpvA4B6+J1T9pT6v+HY6BMBzhO0lPA4m72qJ9Nu6/noMCBku6W9CBwRNkLlT23vdT2+p6CArMkrQNOLwPof267kPQTcEwzHdvTbG/pCSgwUdIzwPyqgFnuX9trgfgCUd8bF7bH297ZFShwqKT7gOWSDukQ8k/b12X9i1p485uo8QPe73CDujhwNfC0pJOHob/L9jxJF2QbrUy8kVJaMCxQ4CxJzwLThwEY6eYHSbMl7ZL0aa71TU3ZXml7VUegwNiiKFbZvl1S5arSQBCfcqbtr4B3gBntXtb2fNtvVgIFIs/2AU9IahqZVTxr+3NJs2x/D9wEvFimZ/sU29+WggIX5uYhfoe9bH8gaY7tHcDxQEAfWeLNnyPiB8sMqUyR04qieNL2EklRp7tZb9fHCPv3HISbKqaxLSmlaU1Bc0dzB7BS0thu6Op5z35d0uJoKDLkQuC1KnZtr7N9zxDQfLDX56iuYqutDPB8Sum2XHkinY0HvpB0bBXjtm+wvXEvUOABYHUVA1VkIvBqtdr9g2X37Nmz0fb1VfTz15hs+5NmHj1f0o1AVIu2B73NZlHyltuOQjCwcg+wOWeQUlbbf0uKHvSflsEERCm8KqAlTc1Nb6lxSVG3b4m2rAFyDPCZpAlVjGRvbrM9pH9t2Y8Ck4qi6EspLQFOarPRX/k2YyA598sCUcXurAqZQV+yHY7aa5U2ztmrMyNRS4oaPbjT+cX2Ff2tWIM3o7t/r9MUN7gHbfnpy94ciJlncUDbjko12/ZHjXpAzOjbgDPKbA7xnD3V9taOPdpqIyAO/K/NngOP5rujTjkjIMfZjqals0/f8U5wLvChpBhLOlq2v7Y9qZlS6RntaKf/e9VXgGs71cvym1JKV+4r0OgPrpEUheTMToBtPxx3oSMCCkQXHoH1Qn/JjI1ytliYgc+uApwzyFsjBRq3IAG5TdJdtt9vSFNxvKKIxAgd904tl+0JtrePKGg2HlH7qqR7o0luAhzeD+DJTdLSDttHtXqLroMJqHu0YYPfbD8eY3Su3QOPc82fBzzUcNXzbkqp5Sw2UqABtt32Jba/a+Ul4PIMHBPp2lqtFhe6TddIgf5o+1LbX1YJImCOpD+aleJ+/Z6D5puN6Tm4qnBWkuk1aHglps29Ir8SSYlQL0Hj0jVm8c29ABuSFbo1mqP+ubhLsl1peBvOnr3waPSpyXZjihoOT+ti0K21du1et7YH6/8HXrgwslTFaH0AAAAASUVORK5CYII="},5115:function(t,e,i){"use strict";var n=i("993f"),r=i.n(n);r.a},"565f":function(t,e,i){"use strict";var n=i("2638"),r=i.n(n),s=i("c31d"),a=i("ad06"),o=i("7744"),c=i("dfaf"),l=i("1325"),u=i("a142");function h(){return!u["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var f=i("a8c1"),d=h();function p(){d&&Object(f["e"])(Object(f["b"])())}var b=i("d282"),m=i("ea8e"),g=Object(b["a"])("field"),v=g[0],O=g[1];e["a"]=v({inheritAttrs:!1,props:Object(s["a"])({},c["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(u["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(s["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(m["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,i=e.value,n=this.$attrs.maxlength;return"number"===this.type&&Object(u["b"])(n)&&i.length>n&&(i=i.slice(0,n),t.value=i),i}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),p()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(l["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf("."),n=e>=48&&e<=57||46===e&&i||45===e;n||Object(l["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(u["c"])(this.autosize)){var i=this.autosize,n=i.maxHeight,r=i.minHeight;n&&(e=Math.min(e,n)),r&&(e=Math.max(e,r))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:O("control",this.inputAlign)},[e]);var i={ref:"input",class:O("control",this.inputAlign),domProps:{value:this.value},attrs:Object(s["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",r()([{},i])):t("input",r()([{attrs:{type:this.type}},i]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:O("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(a["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:O("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(a["a"],{attrs:{name:this.rightIcon}})])},renderWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:O("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],i=this.slots,n=this.labelAlign,r={icon:this.renderLeftIcon};return i("label")&&(r.title=function(){return i("label")}),e(o["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[O("label",n),this.labelClass],arrowDirection:this.arrowDirection},class:O((t={error:this.error},t["label-"+n]=n,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:r,on:{click:this.onClick}},[e("div",{class:O("body")},[this.renderInput(),this.showClear&&e(a["a"],{attrs:{name:"clear"},class:O("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),i("button")&&e("div",{class:O("button")},[i("button")])]),this.renderWordLimit(),this.errorMessage&&e("div",{class:O("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"57f3":function(t,e,i){},7342:function(t,e,i){"use strict";var n=i("ac7e"),r=i.n(n);r.a},"7f75":function(t,e,i){},8449:function(t,e,i){},"8ced":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-input-root border"},[n("van-field",{attrs:{placeholder:"Say something……",center:""},on:{"click-right-icon":t._send},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[n("van-image",{attrs:{slot:"left-icon",width:"34",height:"34",round:"","lazy-load":"",src:t.profile.avatar},slot:"left-icon"}),n("van-icon",{attrs:{slot:"right-icon",size:"24",name:i("4614")},slot:"right-icon"})],1)],1)},r=[],s=(i("a4d3"),i("4de4"),i("4160"),i("1d1c"),i("7a82"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("2fa7")),a=(i("b342"),i("ad06")),o=(i("9eda"),i("565f")),c=(i("c625"),i("b650")),l=i("2b0e"),u=i("2f62");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(i,!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}l["a"].use(a["a"]).use(o["a"]).use(c["a"]);var d={data:function(){return{message:""}},computed:f({},Object(u["d"])(["profile"])),methods:{_send:function(){this.message&&(this.$emit("send",this.message),this.message="")}}},p=d,b=(i("b673"),i("2877")),m=Object(b["a"])(p,n,r,!1,null,null,null);e["a"]=m.exports},"993f":function(t,e,i){},"9eda":function(t,e,i){"use strict";i("3cd0"),i("5cc2"),i("7f75")},ac7e:function(t,e,i){},acbb:function(t,e,i){"use strict";var n=i("8449"),r=i.n(n);r.a},b673:function(t,e,i){"use strict";var n=i("2d80"),r=i.n(n);r.a},bf48:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chat-room-page"},[i("back-button"),i("div",{staticClass:"main"},[i("AnchorInfo",{attrs:{image:t.currImage.thumbnailUrl}}),i("ChatRecord",{attrs:{list:t.comments}})],1),i("div",{staticClass:"footer"},[i("message-input",{on:{send:t.sendmessage}})],1)],1)},r=[],s=(i("a4d3"),i("4de4"),i("4160"),i("1d1c"),i("7a82"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("96cf"),i("89ba")),a=i("2fa7"),o=i("8ced"),c=i("2924"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"anchor-info-wrap"},[n("van-image",{attrs:{width:"100%",height:"406px",fit:"cover","lazy-load":"",src:t.image}}),t.anchor?n("div",{staticClass:"content"},[n("div",{staticClass:"content-header"},[n("div",{staticClass:"detail"},[t._m(0),n("div",{staticClass:"price"},[t._v(" 600 "),n("van-icon",{attrs:{name:i("d788")}}),t._v("/min ")],1)]),n("div",{staticClass:"age"},[n("van-icon",{attrs:{name:i("198f")}}),t._v("26 ")],1)]),n("div",{staticClass:"tips"},[t._v("It is so hot here, is anyone in Bali today?")])]):t._e()],1)},u=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"name-wrap"},[i("div",{staticClass:"name"},[t._v("Katy")]),i("div",{staticClass:"status online"},[t._v("Online")])])}],h={props:{image:{type:String,default:"https://pic1.zhimg.com/v2-3b4fc7e3a1195a081d0259246c38debc_1200x500.jpg"},anchor:{type:Object,default:function(){return null}}}},f=h,d=(i("acbb"),i("2877")),p=Object(d["a"])(f,l,u,!1,null,null,null),b=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("div",{staticClass:"chat-record-root"},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"record-card"},[i("van-image",{attrs:{width:"34",height:"34",round:"",src:e.avatar}}),i("div",{staticClass:"content"},[i("div",{staticClass:"name-wrap"},[i("div",{staticClass:"name"},[t._v(t._s(e.nickname))]),i("div",{staticClass:"date"},[t._v(t._s(e.createdTime))])]),i("div",{staticClass:"info"},[t._v(t._s(e.content))])])],1)})),0):t._e()},g=[],v={props:{list:{type:Array,default:function(){return[]}}}},O=v,y=(i("7342"),Object(d["a"])(O,m,g,!1,null,null,null)),C=y.exports,j=i("af82"),k=i("2f62");function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(i,!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var I={components:{MessageInput:o["a"],BackButton:c["a"],AnchorInfo:b,ChatRecord:C},data:function(){return{roomid:this.$route.params.roomid,comments:[]}},computed:A({},Object(k["d"])(["currImage"])),methods:{loadData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j["a"](this.roomid);case 2:e=t.sent,i=e.data,n=e.status,0===n&&(this.comments=i||[]);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sendmessage:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j["b"](this.roomid,e,this.currImage.type);case 2:i=t.sent,n=i.status,r=i.data,0===n&&(console.log(r),this.loadData());case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){this.loadData()}},S=I,B=(i("5115"),Object(d["a"])(S,n,r,!1,null,null,null));e["default"]=B.exports}}]);
//# sourceMappingURL=chatroom.107237cf.js.map