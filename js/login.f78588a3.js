(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"3b05":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAANO0lEQVR4Xu2de3BU1RnAv+/czcYkpD5QMUKCApZRxAdUrSFCHpsI2lJFgwoC2U0AUSplsBqkjuloBepoWx21hGSzPB2Mj8FWcdgkxCBqpwKlPqa2vPKwGC1azAOye+/5Oufm0QSS7L13797drHv/yB/Z853H9zvP73znHISI/UpY9vwRKSDZxjNiYwFgDDCWioCjiZRUABqOAIki+wTYDgDHEaVGAqoHzhsB4DBHfggU+fOajc3HAEp4JBYVIyVTmZm7bOzSI1cxzqcxm20qAU0CTiMRmURAAKRTf8gAAYGIK4DYhID7uSLXAUGt3ND0cW1tiRwJZQ8rgCvyX7GnJLdOlUCaTcCnI1AqqVVa/Wv+hwKJ2mIaEeAdQtz2xXeJuz+rnO0zPzFtMYYFQG5BxWWAVISI9wBAKumt3drKFjAUIhNhGglgK3Ao93qc/wooZHIASwE4XOUZSOxhQJgOxONMLktw0SHzA+AO8itPV20qfC+4yLRLWwIgz+lOB2RPElEmALckTe0qOD0kI0S2S6aOx2oqFr1vPB5tkiFVRvaCdWNtUvxaAH47Eantfah8iMgB2Ouy0lFcs2HxoVDlOyQAZsx4Ll4ekbwCJVxJXBkWqsxbES8yqZUUZbWtue2ZHTse7DA7TdMBOArWTWTM7lGnkaGazZithUDxqbMn3Me5r6DKs/jjQMH1/G4mAHQUVCxlDFcTKUl6MjFUwiJKbZx4cVWF6wV1NmvCZwqAKTPLk5MuYH8kojlRU+sHUq5oDYxtafuqecmeNx9pCZZB0ACm3v1CanxiwnYguNakSqG5TKIKci5WyQQJZ8XBuT9IgHPPToDkpHg4K94GEmOAGkv4lwON0H7KrzFtBETc5+uQf1a7ZWGTRqF+g2nMXv9JZC3wTIiTaAcRTw0mE3plhdLtdgmuHp8CN16bBpePvRAuvjAZkhLseqPqCV+06jVoOHZCnzyyRlnxz9i1YdGn+gT/H9owgJyC0utskv0tzpULjCauV46IIDHBDnfefCXcmjkezjtbtcWZ8hWueg0a9QIAAGTS10TKLV534UdGMmIIgFC+JNnfIa6cZyRRIzKi1mdMHg0Pzk83VfHdeTEKQMgjk75RFN/0as+iv+otm24AmfNeujLOnrALuHK+3sSMhhfKnzvzGii4fZLoe41GM6hcMAC6IHztl31ZersjXaURA+5ZiYl7rOzzhfJn5U2A++f8OCSKN6MFdMeByBp9HXK6noFZM4DM/FeGxSW31gHRtSHVRK/IxTruskuGwx9W/QTibFJIkw22BfRAANznaz05rbbygVYtGdYKAPOcFZsJaI6VU01OpCp/wrgRWsoSVBizAIBYMyNu2el2ztOyWNMEwOF0L2UIz4tZiJXflT8cAc8W32pJkuYBEKOyuu2z1OsuFCvmQb+AAFTbjmT/kDg3b84XKFcAoCgcVi7OBEf6OA2hgw9iKgCVAWv3+ZUbajcVfTJY7gYFMG7Gc/GXpgz7wMp+vzuzEkPY+szd6srWis9sAOrMCHFfU8uwGwfb8hwUQG5B+aPA8DfhsO+kppwNZU/eodmUECykUAAQmecEj1ZXuFYPlL8BAXRuptgPEHHLLZtiqJl2/SXwqyXZweoVxLj17YmTcPxEO5zqkAecQ/y27F1oPt4WdHqnRyD2E5ST/Orqra7D/UU+IIA8V8WrRPwO03OkIUKhtLk/vQYKZk3WEHrgIFXvH4SX/3wAmppPgCzzQe3HossL1SIPAF/1VrjyNQPIdrrTbYi7iXhYthEVTrBsfjrMzL7cMIC6j47Ar5+vBkkKSxH65BuRcdnnv6lm85l7zP22AIfLXYNEWYZLH6SgmAE9el8W5NwoHOKMfSvWvAUf/7PZmHBIpLDGW+HKOaOLOv0fjnnlGWhjdeH0XpAVDo8/kAPTrr/UkCpEFzZnxTY4/l/hsRgpHyOSfVOrNi3u4/JyRgvIdbm3A9HMcGZbAChZmgNTrzMGQMjf9YuXoaXN9D30oNSCjG3fWe68rXckfQCoHmsMPg2301S0AgDh/MU7Jng99/V44PUF4HSvBaCHg8JsgnDUAhBbqIhrq92u4m419QC4Ir/EPio57RARjTJBh0FFEc0AhMm6qaV+3GeVJapDcA+AnIL1uRKz7QyXo2xvYlEOABTZn1u9cVFVHwB5ropSIr4wqKprknA0AxAqIsTSKrdrcQ+AzMwSm33M6MNW7nQNxiraASBjDb5D9WPFIRG1C8p2rptkw/iPiJSA5mkzKrlY9g8/J3FA04DCOSxfkAE3XG3M20Us5O7/9XZobdd27kIUWqwZxArckg8lIlmeXLWxaL+qcIfTvRwRnrXK6pl28TlQ9uQsS8qqJRGx8yYWbt9YtXBDBOK0vMpT+HsVQF6h5w3iSp8FgpaMGw0TaQDaTvpg9rKXwS8rRoukWw5RemOnu2AWApSwXOfoIwA8TXcsBgUiDcAXzd/BguJKYCFyeelXTcjqve76MZg9/6WRkhRfD0ChdTvolYtIA3DgH8dg+VNvgc1mpeUUFThJaZg9b322LS6umsi65hdpAMS+wep1tZaarhElUGQlG3Od7iJAXK/7HK7B7keIRRqAzW/uB8/r+4AxSyaBnZpDJgAsxJyCsjUM8ZEg9KlbNNIAPF1eBzvfO2jZ/nO3wohgDeYWejYBV+7VrcUgBCINwENr34a/f/5lECUyKoqbMdfl2Q2kZBiNwohcJAEQSy9ncSX8+6ugD7voVgUC240OZ/lRBBitWzoIgUgC4PcrkL9sq47TMUEU/AxRPCoAtCCApUdJIwnAf75tg7kPbbPKCNAHAQG0YG5BmbhNxMoJMKSmnAMvPj74rqeYk4szXkY+0a34/bImpR5sOA4/f+JPYAuD9wQRKGEBIBacg7mbC2PaqiVZkDH5EiP6B2FNnffLVzTtCQs7kPAZCssnrJ8OZ1kLAlraBQUqbLSbo3umoaILCscgHAPQrQE8GpZpaAxA12JYTEPDsRCLAehpAZvDYoqIAejUQKcpIgzGuBiAXsa4cJijYwDE6Zkuc3Q4NmRiAIQGujZkwrElGQOgdkGdW5JCGXkuzxtE1m3KxwCoXVD3prxwSylbjsgsc0v53gM43S3Fases7zsAFI5Z3DfJ61n0N7ULirkmBqoSJv/OWIO/t2uiiN7hqijFmHOuyZruPzoCLK2q6OWcK4LluNwOCdAbc08PLQOx9UKK4vBuKKpWJ6PdycUOaIRW8T3WH8TGppaGMw9oiAC5sSNKoadAuNbr6eeIkgogdkgvtACQ+Tt4x4S6gQ7pqRBix1RDBiHgMVV1NhQhB7Wj75wwI5krN+3aULSnN+F+nSFznRXVADz4q0oM1qWo3BNGVu11Ox2nq6RfANnO0nQbxoXtso5oAyAu61BknlG9sfADTQC6DHSVRMqdBitxUGLRBgCAVXornLP7U8qA/tg5c9xjpAR2IBwPMEQTAHFh0ymf/6q6TQuP6AKgtgKneyUhPKXJxSyoOt9XOGoAdFo9V1Z5CtcMpJ6Al/aNSUl+n4hPMlG/AaOKFgAIbG9Ta1K64Uv71Gnp3HUTWbz9QyLrrq2MBgCmXFvZXVUdzrKliOx5q7qiIQ/AzItbuyBYenXx0AYQgquLBYTM/BeG2ZMT37ViPBjaANhef2t7ptmXd6sNIXPu+lH2eJsYlI1d4hBw+O0MMGQBMKnBf8o/JSTX13frLmtB6YQ4m30XhfDpkqEIAFH6WungmdVbXJ9prGdqMEMHY0P9hMlQAyCeMCGfcrN3k/53ZAwB6DRbl/8IUXo7FC1hKAEQj/j4fMottQaUb7gF9O6ObFLcDjB5TAgWAOcc8pdZcG0lkxr4KT5Db7cT0Bytpw/rGpi3E9Eks17XEOe2Jl52EVww3Ni94cQJ9uyvD+HZL9Fx4F6/T75Nz4Cr2xakFcSUmWuTk84f8RIBn2vVYk1r3kwPJ54yRLbZ913bEq1TzcHyYHgM6CdSdDjdDzBka6L5MU8C5RGvu/BFLe/DaIFvJgA1vWh9zhYI96KsFOwM8CSJFqWbOgb0l2Dng85JK1CShvyDzoxJLQopTx091va7g0PhQefeQHJc7jESMPGk+ayh96Q544DwmnKSigd6/UJvbQ/ZIBwoI9n3lqZL9rgngCArnNfiB8pn5++MAKGGy/yx/vZwtcWhPZTpY8BgSecuKJsCku1hAJoBRHFmTVu1F3egkChOTPgR4W2Slae9p7mOBB//wDFYCqA7G50eeFSIyO4BorRwOQSrd5QgNgDRVuId7t7XyodS6SEfhLVmXjgEj0wcdRNK0l0AMJ2AOq2soXqxr+taSlSVju8A8W1NrQ3vdd9krjXfZoYLSwvorwDikIgtbdREYDiNMWkqgbqyHonAbCQuOSadN5ogE686AgGXAfALANxHXKlDYLX+o/WfiHubzVSk0bgiBsCZBShhua7Ui7gM45lEY4lwLCKOQoajiVMqAQ0HgkShYkJsR8DjyLCRONUDQCMAP8wVPMRs8LnX3fglQIlOgkZVqk/uf6NkRUpgadpQAAAAAElFTkSuQmCC"},"4fde":function(t,e,n){"use strict";var i=n("7ce0"),o=n.n(i);o.a},"565f":function(t,e,n){"use strict";var i=n("2638"),o=n.n(i),s=n("c31d"),r=n("ad06"),a=n("7744"),l=n("dfaf"),c=n("1325"),u=n("a142");function h(){return!u["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var g=n("a8c1"),d=h();function f(){d&&Object(g["e"])(Object(g["b"])())}var p=n("d282"),A=n("ea8e"),m=Object(p["a"])("field"),v=m[0],b=m[1];e["a"]=v({inheritAttrs:!1,props:Object(s["a"])({},l["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(u["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(s["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(A["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,n=e.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(u["b"])(i)&&n.length>i&&(n=n.slice(0,i),t.value=n),n}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),f()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(c["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,n=-1===String(this.value).indexOf("."),i=e>=48&&e<=57||46===e&&n||45===e;i||Object(c["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(u["c"])(this.autosize)){var n=this.autosize,i=n.maxHeight,o=n.minHeight;i&&(e=Math.min(e,i)),o&&(e=Math.max(e,o))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:b("control",this.inputAlign)},[e]);var n={ref:"input",class:b("control",this.inputAlign),domProps:{value:this.value},attrs:Object(s["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",o()([{},n])):t("input",o()([{attrs:{type:this.type}},n]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:b("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(r["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,n=e("right-icon")||this.rightIcon;if(n)return t("div",{class:b("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(r["a"],{attrs:{name:this.rightIcon}})])},renderWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:b("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],n=this.slots,i=this.labelAlign,o={icon:this.renderLeftIcon};return n("label")&&(o.title=function(){return n("label")}),e(a["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[b("label",i),this.labelClass],arrowDirection:this.arrowDirection},class:b((t={error:this.error},t["label-"+i]=i,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:o,on:{click:this.onClick}},[e("div",{class:b("body")},[this.renderInput(),this.showClear&&e(r["a"],{attrs:{name:"clear"},class:b("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),n("button")&&e("div",{class:b("button")},[n("button")])]),this.renderWordLimit(),this.errorMessage&&e("div",{class:b("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},7744:function(t,e,n){"use strict";var i=n("c31d"),o=n("2638"),s=n.n(o),r=n("d282"),a=n("a142"),l=n("dfaf"),c=n("ba31"),u=n("48f4"),h=n("ad06"),g=Object(r["a"])("cell"),d=g[0],f=g[1];function p(t,e,n,i){var o=e.icon,r=e.size,l=e.title,g=e.label,d=e.value,p=e.isLink,A=e.arrowDirection,m=n.title||Object(a["b"])(l),v=n.default||Object(a["b"])(d),b=n.label||Object(a["b"])(g),w=b&&t("div",{class:[f("label"),e.labelClass]},[n.label?n.label():g]),y=m&&t("div",{class:[f("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():t("span",[l]),w]),O=v&&t("div",{class:[f("value",{alone:!n.title&&!l}),e.valueClass]},[n.default?n.default():t("span",[d])]),k=n.icon?n.icon():o&&t(h["a"],{class:f("left-icon"),attrs:{name:o}}),C=n["right-icon"],S=C?C():p&&t(h["a"],{class:f("right-icon"),attrs:{name:A?"arrow-"+A:"arrow"}});function B(t){Object(c["a"])(i,"click",t),Object(u["a"])(i)}var I=p||e.clickable,x={clickable:I,center:e.center,required:e.required,borderless:!e.border};return r&&(x[r]=r),t("div",s()([{class:f(x),attrs:{role:I?"button":null,tabindex:I?0:null},on:{click:B}},Object(c["b"])(i)]),[k,y,O,S,n.extra&&n.extra()])}p.props=Object(i["a"])({},l["a"],{},u["c"]),e["a"]=d(p)},"7ce0":function(t,e,n){},"7f75":function(t,e,n){},"9eda":function(t,e,n){"use strict";n("3cd0"),n("5cc2"),n("7f75")},a55b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-page"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showManulLogin,expression:"showManulLogin"}]},[i("van-field",{attrs:{placeholder:"Input your email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("van-field",{attrs:{type:t.showPass?"text":"password",placeholder:"input password","right-icon":t.showPass?"eye-o":"closed-eye"},on:{"click-right-icon":function(e){t.showPass=!t.showPass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("div",{staticClass:"login-tips"},[t._v("Forget password")]),i("div",{staticClass:"login-button-wrap"},[i("van-button",{staticClass:"login-btn",attrs:{color:"#6B7DFC"},on:{click:t.loginByEmail}},[t._v("Sign up/ Login")]),i("van-button",{staticClass:"login-btn",attrs:{color:"#262626"},on:{click:t.loginByAnonymous}},[t._v("Anonymous Login")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showManulLogin,expression:"showManulLogin"}],staticClass:"login-tools"},[i("div",{staticClass:"login-tool"},[i("div",{staticClass:"login-tool-item",on:{click:t.loginByGoogle}},[i("van-icon",{attrs:{size:"47",name:n("f448")}})],1),i("div",{staticClass:"login-tool-item",on:{click:t.loginByFacebook}},[i("van-icon",{attrs:{size:"47",name:n("3b05")}})],1)]),i("div",{staticClass:"tools-tips"},[t._v(" By signing up, you confirm that you agree to our Terms of Use and have read and understood our Privacy Policy ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showManulLogin,expression:"!showManulLogin"}],staticClass:"login-loading"},[i("div",{staticClass:"loader"},[i("van-loading",{attrs:{size:"30px",vertical:""}},[t._v("Loading...")])],1)]),i("van-overlay",{staticClass:"login-overlay",attrs:{show:t.showLoginOverlay}},[i("van-loading",{attrs:{size:"24px",vertical:""}},[t._v("Loading...")])],1)],1)},o=[],s=(n("a4d3"),n("4de4"),n("4160"),n("1d1c"),n("7a82"),n("e439"),n("dbb4"),n("b64b"),n("ac1f"),n("5319"),n("159b"),n("96cf"),n("89ba")),r=n("2fa7"),a=(n("9eda"),n("565f")),l=(n("c625"),n("b650")),c=(n("3cd0"),n("6e47")),u=n("543e"),h=n("8bbf"),g=n.n(h),d=n("260b"),f=(n("ea7b"),n("a49b")),p=n("5880"),A=n("af82");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}try{d["a"].initializeApp(f["b"])}catch(k){console.log("FirebaseInitError: ",d["a"].initializeApp(f["b"],"login"))}g.a.use(a["a"]).use(l["a"]).use(u["a"]).use(c["a"]).use(u["a"]);var b={name:"login",data:function(){return{showManulLogin:!1,email:"",password:"",showPass:!1,showLoginOverlay:!1,oldUser:JSON.parse(localStorage.getItem("user")||"{}")}},created:function(){console.log("Region => ",d["a"].auth().languageCode),d["a"].auth().onAuthStateChanged((function(t){t&&localStorage.setItem("user",JSON.stringify(t)),console.log("Firebase User => ",t)})),this.showLoginPage()?this.showManulLogin=!0:(this.showManulLogin=!1,this.loginByAnonymous())},methods:v({},Object(p["mapActions"])(["login","logout"]),{showLoginPage:function(){var t=window.location.href,e=/inTest/gi.test(t)||/manul/gi.test(t)||/fromHome/gi.test(t);return e},tracking:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("profile")||"{}"),n=JSON.parse(localStorage.getItem("trackInfo")||"{}"),e.uid&&n.source){t.next=5;break}return console.log("no trackinfo => ",e,n),t.abrupt("return");case 5:if(!this.oldUser.isAnonymous){t.next=8;break}return console.log("Already Tracking, return"),t.abrupt("return");case 8:return t.next=10,A["q"](e.uid,n.source,n.refby);case 10:i=t.sent,o=i.status,s=i.data,console.log("Tracking: ",o," => ",s);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loginSuccess:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.setItem("isManulLogin",this.showManulLogin),this.$router.replace("/home?fromLogin"),t.next=4,this.tracking();case 4:this.showLoginOverlay=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loginByAnonymous:function(){var t=this,e=this.oldUser.isAnonymous;if(e)return console.log("Alredy Anonymous, to home."),localStorage.setItem("isManulLogin",this.showManulLogin),void this.$router.replace("/home");this.showManulLogin&&(this.showLoginOverlay=!0),d["a"].auth().signInAnonymously().then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(i){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("signInAnonymously",i.user),o=i.user,n.next=4,t.login({user:o,method:{type:"anonymous",id:""},isUpdate:e});case 4:return n.next=6,t.loginSuccess();case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(e){t.showLoginOverlay=!1,t.$toast(e.message)}))},loginByEmail:function(){var t=this;if(this.email)if(this.password){var e=this.oldUser.isAnonymous;this.showLoginOverlay=!0,d["a"].auth().signInWithEmailAndPassword(this.email,this.password).then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(i){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=i.user,n.next=3,t.login({user:o,method:{type:"email",id:t.email},isUpdate:e});case 3:return n.next=5,t.loginSuccess();case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(e){console.log(e),"auth/user-not-found"===e.code?t.createdUserByEmail():(t.showLoginOverlay=!1,t.$toast(e.message))}))}else this.$toast("Please input password");else this.$toast("Please input email")},createdUserByEmail:function(){var t=this;d["a"].auth().createUserWithEmailAndPassword(this.email,this.password).then((function(e){console.log("createUserWithEmailAndPassword => ",e),t.loginByEmail()})).catch((function(e){console.log(e),t.$toast(e.message)}))},loginByGoogle:function(){var t=this,e=this.oldUser.isAnonymous;this.showLoginOverlay=!0,console.log("Login by google");var n=new d["a"].auth.GoogleAuthProvider;d["a"].auth().signInWithPopup(n).then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(i){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(i),o=i.user,n.next=4,t.login({user:o,method:{type:"google",id:""},isUpdate:e});case 4:return n.next=6,t.loginSuccess();case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(e){console.log(e),t.showLoginOverlay=!1,t.$toast(e.message)}))},loginByFacebook:function(){var t=this,e=this.oldUser.isAnonymous;this.showLoginOverlay=!0;var n=new d["a"].auth.FacebookAuthProvider;d["a"].auth().signInWithPopup(n).then(function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(i){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(i),o=i.user,n.next=4,t.login({user:o,method:{type:"facebook",id:""},isUpdate:e});case 4:return n.next=6,t.loginSuccess();case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(e){t.showLoginOverlay=!1,t.$toast(e.message)}))},toPhoneLogin:function(){this.$router.push("/phone-login")}})},w=b,y=(n("4fde"),n("2877")),O=Object(y["a"])(w,i,o,!1,null,null,null);e["default"]=O.exports},c625:function(t,e,n){"use strict";n("3cd0"),n("5cc2")},dfaf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}},f448:function(t,e,n){t.exports=n.p+"img/google-icon.f655ce41.png"}}]);
//# sourceMappingURL=login.f78588a3.js.map